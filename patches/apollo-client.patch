diff --git a/react/hooks/hooks.cjs.js b/react/hooks/hooks.cjs.js
index f6c21531940ae1471b3c9f66119d232b55df3096..a58e8041006ac086f1b2cd1eec93faf9aed37c2d 100644
--- a/react/hooks/hooks.cjs.js
+++ b/react/hooks/hooks.cjs.js
@@ -56,8 +56,25 @@ function useBaseQuery(query, options, lazy) {
     var queryResult = lazy
         ? result[1]
         : result;
+    var _maybeFastRefresh;
+    if (process.env.NODE_ENV !== 'production') {
+        _maybeFastRefresh = React.useRef(false);
+        React.useEffect(function () {
+            return function () {
+                _maybeFastRefresh.current = true;
+            };
+        }, []);
+    }
     React.useEffect(function () {
-        return function () { return queryData.cleanup(); };
+        if (_maybeFastRefresh && _maybeFastRefresh.current) {
+            _maybeFastRefresh.current = false;
+            forceUpdate();
+            return;
+        }
+        return function () {
+            queryData.cleanup();
+            queryDataRef.current = undefined;
+        };
     }, []);
     React.useEffect(function () { return queryData.afterExecute({ lazy: lazy }); }, [
         queryResult.loading,
