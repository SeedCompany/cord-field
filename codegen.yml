schema: schema.graphql
documents:
  - ./src/**/*.graphql
overwrite: true
hooks:
  afterOneFileWrite:
    - eslint --fix
generates:
  ./src/api/fragmentMatcher.generated.ts:
    plugins:
      - add: /* eslint-disable import/no-default-export */
      - fragment-matcher
      - add:
          placement: append
          content: export const possibleTypes = result.possibleTypes;
    config:
      apolloClientVersion: 3
  ./src/api/graphql.generated.tsx:
    plugins:
      # import/no-duplicates is here until hooks & common can be merged into one import
      - add: /* eslint-disable import/no-duplicates, @typescript-eslint/no-empty-interface */
      - typescript
      - typescript-operations
      - typescript-react-apollo
    config:
      reactApolloVersion: 3
      scalars:
        Date: string
        DateTime: string
      skipTypename: false
      withHooks: true
      withHOC: false
      withComponent: false
      enumsAsTypes: true
